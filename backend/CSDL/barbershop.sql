-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Máy chủ: 127.0.0.1
-- Thời gian đã tạo: Th7 11, 2025 lúc 03:42 PM
-- Phiên bản máy phục vụ: 10.4.32-MariaDB
-- Phiên bản PHP: 8.0.30

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Cơ sở dữ liệu: `barbershop`
--

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `bookings`
--

CREATE TABLE `bookings` (
  `id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `service_id` int(11) NOT NULL,
  `employee_id` int(11) DEFAULT NULL,
  `date` date NOT NULL,
  `time` time NOT NULL,
  `extras` longtext CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
  `total` decimal(10,2) NOT NULL,
  `status` varchar(50) DEFAULT 'Chờ xác nhận',
  `created_at` datetime DEFAULT current_timestamp(),
  `customer_name` varchar(100) DEFAULT NULL,
  `customer_phone` varchar(20) DEFAULT NULL,
  `note` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `bookings`
--

INSERT INTO `bookings` (`id`, `user_id`, `service_id`, `employee_id`, `date`, `time`, `extras`, `total`, `status`, `created_at`, `customer_name`, `customer_phone`, `note`) VALUES
(1, 1, 1, 1, '2025-07-10', '10:00:00', '[\"Gội đầu\", \"Massage\"]', 200000.00, 'Hoàn thành', '2025-07-09 23:53:42', 'Anh Tuấn', '0909123456', 'Không yêu cầu gì đặc biệt'),
(2, 1, 1, 1, '2025-07-11', '14:30:00', '[\"Cạo râu\"]', 150000.00, 'Hoàn thành', '2025-07-09 23:53:42', 'Minh Huy', '0909988776', 'Khách quen'),
(4, 2, 2, 2, '2025-07-12', '15:00:00', '[\"Uốn tóc\", \"Gội đầu\"]', 350000.00, 'Hoàn thành', '2025-07-10 12:00:00', 'Phạm Thảo', '0912345678', 'Yêu cầu máy lạnh mở nhẹ.'),
(24, 1, 3, 1, '2025-07-10', '18:00:00', '[]', 200000.00, 'Chờ xác nhận', '2025-07-11 00:08:17', 'mmm', '0333440700', ''),
(25, 3, 3, 1, '2025-07-10', '17:00:00', '[\"Nhu\\u1ed9m Highlight\"]', 200000.00, 'Hoàn thành', '2025-07-11 00:20:27', 'mmm', '0333440700', ''),
(29, 3, 2, 2, '2025-07-11', '09:00:00', '[]', 50000.00, 'Chờ xác nhận', '2025-07-11 11:35:39', 'mmm', '0333440700', ''),
(31, 3, 2, 2, '2025-07-11', '10:00:00', '[\"U\\u1ed1n L\\u1ecdn Nh\\u1ecf\"]', 50000.00, 'Hoàn thành', '2025-07-11 11:43:53', 'mmm', '0333440700', ''),
(32, 3, 1, 1, '2025-07-11', '18:00:00', '[]', 80000.00, 'Hoàn thành', '2025-07-11 12:23:38', 'mmm', '0333440700', ''),
(33, 3, 1, 1, '2025-07-11', '19:00:00', '[\"X\\u1ea3 D\\u01b0\\u1ee1ng T\\u00f3c\"]', 110000.00, 'Hoàn thành', '2025-07-11 18:08:03', 'mmm', '0333440700', '');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `employees`
--

CREATE TABLE `employees` (
  `id` int(11) NOT NULL,
  `full_name` varchar(100) NOT NULL,
  `working_hours` varchar(100) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `note` text DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `employees`
--

INSERT INTO `employees` (`id`, `full_name`, `working_hours`, `phone`, `note`) VALUES
(1, 'Nguyễn Văn A', '17:00 - 21:00', '0901123456', 'Chuyên tóc nam'),
(2, 'Trần Thị B', '9:00 - 18:00', '0901987654', 'Nhiệt tình, vui vẻ');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `employee_services`
--

CREATE TABLE `employee_services` (
  `id` int(11) NOT NULL,
  `employee_id` int(11) DEFAULT NULL,
  `service_id` int(11) DEFAULT NULL,
  `role_label` varchar(100) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `employee_services`
--

INSERT INTO `employee_services` (`id`, `employee_id`, `service_id`, `role_label`) VALUES
(4, 1, 1, 'Cắt tóc'),
(5, 2, 2, 'Gội đầu'),
(6, 1, 3, 'Nhuộm');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `extra_services`
--

CREATE TABLE `extra_services` (
  `id` int(11) NOT NULL,
  `main_service_id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `price` decimal(10,2) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `extra_services`
--

INSERT INTO `extra_services` (`id`, `main_service_id`, `name`, `price`) VALUES
(1, 1, 'Massage Vai Cổ', 50000.00),
(2, 1, 'Xả Dưỡng Tóc', 30000.00),
(3, 2, 'Uốn Lọn To', 70000.00),
(4, 2, 'Uốn Lọn Nhỏ', 70000.00),
(5, 2, 'Dưỡng Phục Hồi', 60000.00),
(6, 3, 'Nhuộm Phủ Bạc', 80000.00),
(7, 3, 'Nhuộm Highlight', 120000.00),
(8, 6, 'Gội + Cắt + Massage', 150000.00);

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `reviews`
--

CREATE TABLE `reviews` (
  `id` int(11) NOT NULL,
  `booking_id` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `rating` tinyint(4) NOT NULL CHECK (`rating` between 1 and 5),
  `feedback` text DEFAULT NULL,
  `reviewed_at` datetime DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `reviews`
--

INSERT INTO `reviews` (`id`, `booking_id`, `user_id`, `rating`, `feedback`, `reviewed_at`) VALUES
(1, 1, 1, 5, 'Cắt tóc cực kỳ ưng ý, nhân viên thân thiện, không gian đẹp!', '2025-07-09 23:53:53'),
(2, 2, 1, 4, 'Gội đầu thư giãn, giá hợp lý. Sẽ quay lại lần sau.', '2025-07-09 23:53:53'),
(8, 4, 3, 4, 'Phục vụ tốt, nhân viên nhiệt tình. Sẽ quay lại.', '2025-07-10 19:20:36'),
(9, 31, 3, 3, 'oke', '2025-07-11 11:57:51'),
(10, 31, 3, 3, '', '2025-07-11 12:32:38'),
(11, 31, 3, 4, 'Tuyệt', '2025-07-11 12:33:05'),
(12, 31, 3, 5, 'tuyệt vời', '2025-07-11 12:39:15'),
(20, 32, 3, 4, '', '2025-07-11 13:06:41'),
(27, 33, 3, 4, 'dịch vụ tốt', '2025-07-11 18:16:39');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `services`
--

CREATE TABLE `services` (
  `id` int(11) NOT NULL,
  `name` varchar(100) NOT NULL,
  `description` text DEFAULT NULL,
  `price` decimal(10,2) DEFAULT NULL,
  `created_at` datetime DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `services`
--

INSERT INTO `services` (`id`, `name`, `description`, `price`, `created_at`) VALUES
(1, 'Gội Đầu', 'Gội đầu kết hợp massage da đầu, cổ vai gáy giúp thư giãn, giảm căng thẳng và làm sạch tóc hiệu quả.', 80000.00, '2025-07-09 21:04:58'),
(2, 'Uốn tóc', 'Tạo độ cong tự nhiên hoặc sóng xoăn cho tóc bằng kỹ thuật uốn lạnh/uốn nóng/uốn setting. Giúp tóc bồng bềnh, giữ nếp lâu dài.', 50000.00, '2025-07-09 21:04:58'),
(3, 'Nhuộm tóc', 'Tạo màu tóc thời trang, phù hợp với cá tính và làn da. Bao gồm nhuộm tẩy, nhuộm highlight hoặc nhuộm phủ bạc.', 200000.00, '2025-07-09 21:04:58'),
(4, 'Cắt tóc tạo kiểu', 'Dịch vụ tạo kiểu tóc phù hợp với khuôn mặt và phong cách cá nhân', 80000.00, '2025-07-09 21:05:38'),
(5, 'Duỗi Tóc', 'Làm thẳng tóc bằng kỹ thuật duỗi thường hoặc duỗi cúp, giúp tóc vào nếp, mềm mượt và dễ chải.', 50000.00, '2025-07-09 21:05:38'),
(6, 'Combo Toàn Diện', 'Gói dịch vụ trọn gói bao gồm: Cắt + Gội + Hấp phục hồi + Sấy tạo kiểu hoặc tùy chỉnh theo nhu cầu. Phù hợp cho khách hàng cần chăm sóc tổng thể trong 1 lần.', 200000.00, '2025-07-09 21:05:38');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `service_images`
--

CREATE TABLE `service_images` (
  `id` int(11) NOT NULL,
  `service_id` int(11) DEFAULT NULL,
  `image` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `service_images`
--

INSERT INTO `service_images` (`id`, `service_id`, `image`) VALUES
(1, 1, 'uploads/686ddd275fe14_36.png'),
(2, 1, 'uploads/686ddd275fe14_36.png'),
(3, 2, 'uploads/686ddd275fe14_36.png');

-- --------------------------------------------------------

--
-- Cấu trúc bảng cho bảng `users`
--

CREATE TABLE `users` (
  `id` int(11) NOT NULL,
  `name` varchar(100) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `password` varchar(255) DEFAULT NULL,
  `gender` varchar(10) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `role` enum('customer','admin') DEFAULT 'customer',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `avatar` longblob DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Đang đổ dữ liệu cho bảng `users`
--

INSERT INTO `users` (`id`, `name`, `email`, `password`, `gender`, `phone`, `role`, `created_at`, `avatar`) VALUES
(1, 'pham son hoang', 'admin1@gmail.com', '$2y$10$.SljqeHNtwBHCNxnd1kuo..QDQY.VJl1zLQLGSulonQKosN.E242C', 'Nam', '0333440700', 'admin', '2025-07-08 05:34:47', 0x75706c6f6164732f363836646464323735666531345f33362e706e67),
(2, 'Pham', 'hp@gmail.com', '$2y$10$N3hxW8VYJXAC6pjWZ9hxV.ZsZAmA2xISZhRKUq5TfQIV7dxhQeIZS', 'Nam', '0333440700', 'customer', '2025-07-08 16:55:25', NULL),
(3, 'Phạm Sơn Nè', 'ph@gmail.com', '$2y$10$wJGaeG71MGToky.izMtMSe6zIMc7K1HKqN1gxwjRQ.6/OrjFXuPoC', 'Nam', '03334407000', 'customer', '2025-07-08 17:00:20', 0x6956424f5277304b47676f414141414e5355684555674141414f45414141446843414d414141414a62534a4941414142536c424d564558726255722f2f2f3955506a6273775a7a48314f4c6e375049554679424455324d6147687278785a3841414144776230732f54312f4c324f6272615553466b3648715a44314e5044567265596a715954644b4e532f2b39664f6556304c3074366857507a634141416c484d693338352b4c337973443176374c79623072736331424a4f7a5868754a554143512f36323954796f342f35303872786d34627a7270337466324c776b337674656c76373439304e4552543176624876695737736345377a71706863545548436f494b686857325865474e78586b375171596e643565326d736237537a394d754a694f746a33566a5530614562566f6c49794639596c48703273353955554c526130325456554b785930706b5445467957456f2b4e692f48704958425a307a727961314f55566837666f5858344f6f754d6a75466a706c62595776517738653277744455734b31415255376933643635756230624869654f6b5a6831537a32355955646f527a795357306943546a366c596b77324c797153536a652f64317a626b5843356947337373342f7370594c7130622f516758434b616d6c656559764c63312b6f63327563674948646f5a576f4b4b75564141415653306c45515652346e4d5764653376615268624768634770425547464942494544694435426a59784151774a775a6a5943545a706b6d37536c47596470336137322b3365762f2b2f4f3650375857637536723750303953324a44512f5a7561634d3363686b3771716a6233744a343932753865647a6d47724c2f52626835334f63586633305a5074765559312f64634c4b583432516a7659503235564b71565353554953484f4666305638726c6462782f6b47366f476b524e725a336a3173366d42417648625631764c766453436b6c61524132486e663755696d527a63745a6b76726478326c5138696173377532324b6955534f42646d71644a36757365377848496c724735334a556f3668314c71626e4f463545693433525559385378496f62764e4c316d384349393253317a774c4d6a533768476e6c4845687244377556506a686d5a43567a6d4d75705a554459654d706e39495a5943774a547a6b59563262436f793652577943456c4c724d685a5752634f6559652f48304d56614f642f365068456464417235436f646c73467671746668502f76304441794a61504449534e4c725436465a714677347376742b666e313963334e7a6658312b6466623739637442416e6b4c48555a61695031495456585268666f5643342b484a654b3566625a61514e4c5077442b7131322f767169414d744d7162524c6256647043522f4437457568662f4671325734625a4834687a7557724e3330596f2f543444795863365a51676549574c323573494f70757966584e374153717570513664796145694242585151765069764279505a32586c2b5263494979717166784468487153416f76784c796a35335274612b4342424761653850494b7a7556354b54496a51767273463875746f336279424674624a5062484649435864616b41787376534c6a30786c2f626a5754503170716b645a475173494453413173766c6b53383233672b766761676c6736534a477741544768686637584b776f2b505275765734436957756f512b583853776a3042556b4976626d6779304d7a47326758453441676b426f654138424845427a6266624e4144596b5a495352564b6a394967374949415837645a2b4a4461443047495865364531554e496c4661345a515645694b3867626b4d36684c6f4e494f455278456b4968612f73674e687441463646334161775451556a4249557851704d4c494561454646526f67414d696641774a5937675555524d52564643464371693541534545416a4962475266696133364941454b516c78414b622f6742496b52516c41727947736d45427942416f63586b426f4f494c64426241534663497545427149674b6857752b684f56725743644f4a5245786952425752446c614755767457786869596b464e4948774d424c7a674459687945524b695973514563784e50434c4f6953417a526469546844664464435259316c6e4150434d6a545554674375677945474f7636347769506f4233616e4f326f6a51697a7079693869517667596769726f466855774e46614f6f546c7235446f44524f3259734c7747454a5161774c7249683141624779414b5a414f61516937554d44437139514959664570526f78754c305953416830685569736c76673243544978786931474565324441776d31615759674948344a4834557052426a5743734148395945486f44314944334e68593975454a69656942697944736745632b2b6259702f414b324d62436b44676b68734432423166773576554b4b69756b35304745496b65324d554d49644f4b4451536a4d4c4362772b52677a743841386a424c7436704d49586a6f5479496b67494c3659526a6a2b4d634a39676567585065455a655a6b657937322f6775455a483349635251754e7458663062626f41625331584d4c76312f7643456f70714578654167683051515a6a6846624451474b7730416d6770302b6c6751683343556835466b4e4a3249326d7855585073543246336846524954426766414149596b6435566f4e64634273567131372f31782b52564152772b7870674244753637454b764c78687a51544d696e356a63303051316f54356654386873475047556a39674761676b59794e6a36644a3762556c69616b4b366258794556634a3565483075575368665a68314163654b395743596a464b52714c4347526d554869307364576e326664456f65657174676d4d715a42592b4d6c624a435655543568747a775473313745453364564a496c71644a55614d59546764723146794e374a4a693958506b4345364b364b3443343353373732766f66776944414c45534672506177763141416763686d754f38716b68454c704b4a4b514e41755a436556414351315752594a3276696c764a726f4a64306743556f507749524f68484a71424f754c4d5269516e46436f374559544878464f326d516a6c3554434354336638466949466f585163546e68456e495573684c4938796b5944596f4e61707959554b6b6568684d53316b4946516c6b2b69437169444b464d54756d75695139696757465a4153536a5845766b77346c796d4a52536b52676a68307a2b4b734c346341666979566b754b6a7642706b4c424b2f6a453068484a394d5979746634466370434955684771416b4c42523453617379666937727456712b6a38312f51666a442f67766272794e79356b712b6d4d305136346652656557476932683038537743636e61685335435a424e584a3563344b624a38645866335174665a47663733377134756c3358304773713832734b4c70364f6f6b3958735a4434656e77376137634867644477657a303947733956454e53366a786949646f644e4f744167705849564a754b474b6b2f6e67624d74515435667a452f7278374d5664765977794c32766e6a6345326e4d3150327939366555734b2f6b39524e41332f63335a5650703276524a57366c4e6f4f7779496b6254625a68504a63464d644b7a38445474444d7a453032646f623870477361384738786e4b344d74753571687236534853664c4b3174587066445361595931476f355078344535547a4739494759756f4a6c4953326f306f6935436d4675714539516b694e4143314b31774d786177366d61794777794571616a6a664a724e3557304f5169436966333271333231736f702f5466652b333563434947704d36754e4f4d4c4734765a535a32535543683543626570435a64693169545578726152394a674c394e4e6b6671665a70646a3451626d625430532f31544566794937317533756e364c4f5862567243625138685254786a454c5a484b42576e4f4e57397178697a4c32626e2b5332336c4a4e596e3948755759516a576b49727268486f6e61464f574a2b6739413977657053594f427044726e6f7551433368357147434351666f706b6d646b74427969514a4c495557455335796545553738585679533856317a4278485873486a64346274472b4b376c4c3553455a6a455657416f7049707a724864567a4c546e52346f6d6d6d31764d71633254626b5a567532643839676b746f566c4d64554c53506b5348384265396a53364f6c4331746c4a526f394456734b61656a5577564361482b694f4b516c4e50735664554c347441512f34634f4a6e68355562524b716f5a6b745132512b687a3141686a75664f4b456d4e435976434c544e43704e5131524f6b3572653053564c564b76664d58426b707658624376646d4a74705533503576613068674e444a32517346665a525868727045667462576c7155714c507468517a67355374733653625656537a6a55385567524e4e51395379434274554d616c4f2b4b755a6356653958684b686d73662b54552f7a61532b662b48333065715a78466e2b6c4a71773054454b7168704d7579535245486a474a554a777069746c3136506f786a6e426733763072395a344765684e4b59504156695041765a764c48576c497052633743766b5856456f327032724f7430562f6f6b39633143596b47364d494a35356f3253534163614b64327048717174524d494a3836585145386f394131436d69346f502b4651536649577171746b346d49616e2b583441326673684c68445371415032515358705a6c6f4354554c515a3035554f715a456838676f4e757451734651442f5841546142742f486f4a3152646176424d5842347272426e4768444f4a766e32737656497551327062717a574342706a5066496279312b695547326c56736b7455747854574b4a713655586d79394661383036797467384964363937365171564c376538666a3633464b584a4c4673654b784c574a626963337a53633870786779455171754b43456e486654324544363269744e4c6961705934306649655379514f383070775a4e533550464c73792f52526d364350427776305954636d2f4d564b682f696946314f7a55433330585256506c52694867534b494d2b7544563953527436414833304c6d67474562704d4a444b2b50777478345a6534767a3445566b66534f39766a6852464f65445751696c413052494d684d78534c697755366e316f6d794e654b4945697a442b536b3669486d6a33624838707a6c6c4b7162535043426c4d4b5349634f436e4f61344f7733695552576634777334497a6468373651486167355a31765a4d6c456549774947557770376f6d79336267347a6d7433493948585179694b6b376153443757623641476c506646314b4f4b652f44764e3959424b33784f4631636f495665716d6b30486f68444c69534e4d556254796171455a4b38515631647072586f6b6f6a4473627a707a5033375a505247483247713064456e4c455256716f4366654e514a3277374652455a6950455737716e587a713447703663444a4a5162536e34513652624531514264312b377772656942717a4d4e443178736a56315753567a51397065616841324278566e6f766671654971614f786d316e72415870624277335843686d682b4d5837747437376648494f2f35474f3235687172516e4d4d546478736a4d304666766b434d59447656686c746c73705762444f2b3764393675726f58483363446a4a2b7534586839546a46696268747643456b58426a4557496d41794f64435a53527434734c32744531692f434a3849686c33304e3968445378793456424b753049715358706b634451646a494a6f2f7732423947504164754575774a394a3431677a6d74627070694a5335715a657837437273415330686a7a53794e6d333347514f4a4d703570643643592b464473506a3571716e476a6a465241596f713263683063716e4548555943667559554534616c444870564f7845547242625545475578725239306e6e6541634a444e6b4a39555641397153626977666d46584a6374316555466e707552384a5378394f4b4776724d54363142672b34614d39525a7966502b754b4b3457736e2b31542f4c6b4b474e65572f6c6e6c6d7149367048413967325a36376a6c754d355363584c70787a4d684c2b50477138776c55504431334f466934334f74653470753333746e3376735954794c726f375873676d7a645577714d316f4b4c4b4b636f5470625267486965634f525859363747495631754565526a713466322b6b4e35456371586a636c414b78744461364f39686f33523043412b4e6c76714c463544694d463145367659444c53794d56694a78617746534c4c554f5653486a50375174514452582b424563624b6f52334b3556622f30395757497176334e4d466444566f2b5076694e6e3159794d47362f32374c51686b45396e58417a646a3436634b3233474d6f62346d4f4a53704b5a72665a3638736442446c745677744143555437666b35574b456e6b4e74345a4e467a66586f6b7247516f7269557157306842435a435731464c46456a534e64396c747161546f4c63746d4e7148574d414665724a63573134753569656a6b2f6e69636c6d4c3550534b315666673969465447782b72414669764c73754c30637056303052314e516f4763694736595858337149335031452b6a45796176304b76504134304a54446c504e4558454b2f4d434b6a3168363276546c626750566c512f523177385a3469783553546f6657314d2f615736436b6b72317557494c6d46786c5542592f7371616862692f6c4b6e503279424d334666684d6e534e6a4b68654a6a7748335859765270554732376946695a686f61326f6a583058552f586f743654466d4f364f50577a434e505a6d45796575643566707950734e7a3937465564544b624c2b754a70705374443870516933483830454b4537447367793355455656766935544e316b447463736750713434637359384157595370375262473366633078594a5a786646737037483235416433374d6b37364f4436377530676e45336e55516d4d7542737438476c75466339365a5744376e6b43786a5067334c6e436848334465685a59363564656c7a6f6e67595539524d354c77395a5075577357476f79356a58786a49333053564f4f39565949746c4f4d46726d334554323242754c3732624a62665a344463756358386f77523969747769742b69427843626c336d484747476564346539626b3578544a724a366d644a4f61352b6837784b3665637971677a5635392b76595658374565776d4943677332594173746462734463525466485a323478584a5853746d65485167444c563533422b414c644b36467233524c39324c61444478465a746f6b4248506f486b57727647492f6732564c696750612f4c3068553351506636512b6f3170454778746a4b347443684d75646151387649585747793759624a336b4470797277506d464c675a59746e446a5365676479303337587238554e456a636758307273666e575579783536667a475477365a68783539315467576b797875614536345a476a6b5245432b324a51376d3053706349463642525a44782b48446d36506648756263476f4732797130434273613552764f6749483961656a3247496f543054467a37612f63516a5654675432473650614a69684f4a536556735249577766614b344e6145634e532b574d4d6232386f4a5463386c5279463566584632696f594a77437a413435665974375042784d675833612b505977484455764468504f7671346663342f41385033334f50564965565434633131584646744c3939414475516d5675692b69587a6a476c75465176514a7a334c746453454e766f69394c314e774749594b685638765138594c5a666e79722b6e7752653566797164375030792f695a4f5470587455564a627279354f4a4b484c725076457161673961696e324567652f5435314f716547546245423778317564714d6d77494561664966595254716f6e53622f6273424c776433385331675749326a6666463741564e76703833534a33517954534755716b594d66743570354b4a56686147367263305868697a4a7a7566385744662b2b4b794d4a564d6a4e31586e33636a436973574d4a766c626b376a7a3062673261396f767539764359522f342f37472b504d747544637857676d4132537a3449456d596b73346f3464314f6c4c354c4a507964613973332b5a775a77724f43456c545a336c7a484d333633336e7a4a3834324173344a34477076537753625379786a416c2f67476a6a554463743454345a6c64635372746278714b797362767a4f7450755347437a7577694f336374376d32645455766832666a537674376c68416738643433486245584241346a306539444375432f7a515953656e5564302f6d476b5374314e6a33775742316b596a2f5935494d4c50502b5268542b3036474a364e767765756371694c38444d73696334686a586a5a515144426c59332b444e514650344134387032684c4d786e79595a4a616e304d516469304c4d374c38497337666261584570306c533349656346436c3776525a4f415279484f4a33555a656554592b5a737048735047434779517553394b6d597930566862503455655357584b3336533648646a4a547a546d65526362682f6637685142356f6f52474e50384e4f4b4b2f6c52756c354b522f46787579765a2b3666676a54696e532b33434f74387262384176766a63654b48343970416736617339557a47664a6d6a53523879746b4b72597250382f66797a384d75504c4f664b333453794639384749305251306a732b4a742f7a785564777243712b4f7a7a76587633506f6578753534723576354f4f4a49523775715443544e485249544e316a2f2b3651594d713472764645536f76417465384437347a332b5166626e535551784648434652444e373831346637447a774a44566246616634655674445976506338563378772f384f2f434c49784c4e3447456d5965677847622f2f376d477a39686f43712b315852437a5739736e7558386850652f2b5466596c6c66382f52596b684e427547366e2f6e2f7368684c35792b747a49776e7342592b4e2f3741482b73503841445536675934614d454f59577063507074324745336e4c36375074376c723733354f373758426a6874783942786a7a614551494a4d77664a425655367a4258444354336c314d35435879592b387a396b4568616e414d524b654c684e51706a637a70434f6335474562706452664b4359674d6f44642f6b4e50474d52356e4b4a445943493967515a59564a426c62713547454948705a6772766a55516c6264467a392b6a43584d4a6756566945595552786c745548544361304b364b656c6b3061754c3337764c7272345265776c7a7375456143465955547869464b6e5677386f59576942395a365663772f6434586d6755726f49387a46314555514949777773786356385a7541635951354a3676636847626d686a3367495977304e354955362b674a43544e48455746556135704d2b4e346d4b583672453570706a79696a50734c63782f44524b616b5646367152453261716f56396c79576f7278524869636d70634b50354a6a30762f5a503457586b6239684d5750595a5a4f4f6f774a74716b49555873782b4b4c4b4a7773706c6a426e6b52544e794c746f6b596666376956457a616e676d30765237554636777144586b505a746f6e6a436f705564756b6455724e754b5562643743585046514263317845745145476232764a4569436d5763524d5553326e643930416b2f4a4e336d492f516256456d4132526879776b796a3438354775784c4343582f552f65475078495365716c6a715250537163534445495a7a39625a622b36306f436b4e44302b4d534572716f6f4151493146734c4d6a755532704934376e5542434d79346c4a73775672516856616f563233584d6b7a4654336a5142486d6e6f5342534d30322f6a6b68465935726578446e5151396f526e67654d6f6f6c44426e4569626346555a592f47384a48736177456d59797579573348515554466e38774358394975432b454d4a64725361586745485a61684a6d6477302f6539384d497a546177475a69534552592f485a4c57514262435447627453315471684c6b315a55707043544e56636b746a424e354f364531434f4357324d4d7945586b59676f646e474a79616b35324d6964445043434e2b5a684f2f4943466e3447416c526451533044353255667a414a45774a544c2b475574674c794962547945555a6f39336e4443646e796a777368596c7844435838306f376145304e73685844507a635348456a42463933723655573533654361473353546a6c7763654a45476e39377635394d4f486e524d4c3739393878566a3962764168525276373049436b752f57775278743957665044674a79375a7034736649644c6d4f7254767a457234442f6134525778672b6e363979544e5258416d7831757470524d714c5032676d6f425a4a4f46337a4b70793275424d694e63496869382f746b5a6e77774853364a75716541436f4e5169786b5876305552646349616541614a384d5a6f72514973617256396671396b353157344f304e76616676312b7471576e525961524a61717134334e396654366654506e372f2f2f506e655a2f54766e3946762b4939706b6c6e364833646941447171516233754141414141456c46546b5375516d4343);

--
-- Chỉ mục cho các bảng đã đổ
--

--
-- Chỉ mục cho bảng `bookings`
--
ALTER TABLE `bookings`
  ADD PRIMARY KEY (`id`),
  ADD KEY `user_id` (`user_id`),
  ADD KEY `service_id` (`service_id`),
  ADD KEY `employee_id` (`employee_id`);

--
-- Chỉ mục cho bảng `employees`
--
ALTER TABLE `employees`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `employee_services`
--
ALTER TABLE `employee_services`
  ADD PRIMARY KEY (`id`),
  ADD KEY `employee_id` (`employee_id`),
  ADD KEY `service_id` (`service_id`);

--
-- Chỉ mục cho bảng `extra_services`
--
ALTER TABLE `extra_services`
  ADD PRIMARY KEY (`id`),
  ADD KEY `main_service_id` (`main_service_id`);

--
-- Chỉ mục cho bảng `reviews`
--
ALTER TABLE `reviews`
  ADD PRIMARY KEY (`id`),
  ADD KEY `booking_id` (`booking_id`),
  ADD KEY `user_id` (`user_id`);

--
-- Chỉ mục cho bảng `services`
--
ALTER TABLE `services`
  ADD PRIMARY KEY (`id`);

--
-- Chỉ mục cho bảng `service_images`
--
ALTER TABLE `service_images`
  ADD PRIMARY KEY (`id`),
  ADD KEY `service_id` (`service_id`);

--
-- Chỉ mục cho bảng `users`
--
ALTER TABLE `users`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `email` (`email`);

--
-- AUTO_INCREMENT cho các bảng đã đổ
--

--
-- AUTO_INCREMENT cho bảng `bookings`
--
ALTER TABLE `bookings`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=34;

--
-- AUTO_INCREMENT cho bảng `employees`
--
ALTER TABLE `employees`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT cho bảng `employee_services`
--
ALTER TABLE `employee_services`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT cho bảng `extra_services`
--
ALTER TABLE `extra_services`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=9;

--
-- AUTO_INCREMENT cho bảng `reviews`
--
ALTER TABLE `reviews`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=28;

--
-- AUTO_INCREMENT cho bảng `services`
--
ALTER TABLE `services`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT cho bảng `service_images`
--
ALTER TABLE `service_images`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT cho bảng `users`
--
ALTER TABLE `users`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;

--
-- Các ràng buộc cho các bảng đã đổ
--

--
-- Các ràng buộc cho bảng `bookings`
--
ALTER TABLE `bookings`
  ADD CONSTRAINT `bookings_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `bookings_ibfk_2` FOREIGN KEY (`service_id`) REFERENCES `services` (`id`),
  ADD CONSTRAINT `bookings_ibfk_3` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`);

--
-- Các ràng buộc cho bảng `employee_services`
--
ALTER TABLE `employee_services`
  ADD CONSTRAINT `employee_services_ibfk_1` FOREIGN KEY (`employee_id`) REFERENCES `employees` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `employee_services_ibfk_2` FOREIGN KEY (`service_id`) REFERENCES `services` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `extra_services`
--
ALTER TABLE `extra_services`
  ADD CONSTRAINT `extra_services_ibfk_1` FOREIGN KEY (`main_service_id`) REFERENCES `services` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `reviews`
--
ALTER TABLE `reviews`
  ADD CONSTRAINT `reviews_ibfk_1` FOREIGN KEY (`booking_id`) REFERENCES `bookings` (`id`) ON DELETE CASCADE,
  ADD CONSTRAINT `reviews_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE CASCADE;

--
-- Các ràng buộc cho bảng `service_images`
--
ALTER TABLE `service_images`
  ADD CONSTRAINT `service_images_ibfk_1` FOREIGN KEY (`service_id`) REFERENCES `services` (`id`) ON DELETE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
